<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>컨테이너 CPU/메모리 사용량 확인 명령어 모음 (Docker ~ Kubernetes) | My New Hugo Project</title>
<meta name="keywords" content="">
<meta name="description" content="단일 Docker 컨테이너부터 Kubernetes(Pod/Node) 환경까지 CPU/메모리 사용량을 확인하는 대표 명령어들을 빠르게 정리한다.">
<meta name="author" content="Hero">
<link rel="canonical" href="http://localhost:1313/posts/first/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/first/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My New Hugo Project (Alt + H)">My New Hugo Project</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      컨테이너 CPU/메모리 사용량 확인 명령어 모음 (Docker ~ Kubernetes)
    </h1>
    <div class="post-description">
      단일 Docker 컨테이너부터 Kubernetes(Pod/Node) 환경까지 CPU/메모리 사용량을 확인하는 대표 명령어들을 빠르게 정리한다.
    </div>
    <div class="post-meta"><span title='2026-02-19 00:00:00 +0000 UTC'>February 19, 2026</span>&nbsp;·&nbsp;<span>Hero</span>

</div>
  </header> 
  <div class="post-content"><h1 id="컨테이너-cpu메모리-사용량-확인-명령어-모음-docker--kubernetes">컨테이너 CPU/메모리 사용량 확인 명령어 모음 (Docker ~ Kubernetes)<a hidden class="anchor" aria-hidden="true" href="#컨테이너-cpu메모리-사용량-확인-명령어-모음-docker--kubernetes">#</a></h1>
<p>컨테이너의 리소스 이슈(메모리 누수, OOMKill, CPU 스로틀링, 노드 압박 등)를 빠르게 진단하려면<br>
“어디에서(호스트/컨테이너/k8s)” “무엇을(실사용/제한/요청)” 보고 있는지 구분하는 게 중요하다.</p>
<p>이 글은 <strong>단일 Docker 환경 → Kubernetes 환경</strong>으로 이어지며 CPU/메모리 사용량을 확인하는 명령어를 정리한다.</p>
<hr>
<h2 id="0-용어관점-짧게-정리">0) 용어/관점 짧게 정리<a hidden class="anchor" aria-hidden="true" href="#0-용어관점-짧게-정리">#</a></h2>
<ul>
<li><strong>Usage(사용량)</strong>: 현재 실제로 쓰는 CPU/메모리</li>
<li><strong>Request(요청)</strong>: 스케줄링 기준(이 정도는 필요해요)</li>
<li><strong>Limit(제한)</strong>: 넘으면 제한/종료(OOMKill 등)될 수 있는 상한</li>
<li><strong>Working Set Memory</strong>: 캐시 등을 제외한, “실제로 압박을 주는 메모리”에 가까운 값(도구마다 정의 차이 있음)</li>
<li><strong>CPU throttling</strong>: CPU limit에 의해 실행이 지연되는 현상 (사용량이 낮아 보여도 성능 저하 가능)</li>
</ul>
<hr>
<h1 id="1-docker-단독-환경">1) Docker 단독 환경<a hidden class="anchor" aria-hidden="true" href="#1-docker-단독-환경">#</a></h1>
<h2 id="1-1-전체-컨테이너-사용량-한눈에-보기-docker-stats">1-1) 전체 컨테이너 사용량 한눈에 보기: <code>docker stats</code><a hidden class="anchor" aria-hidden="true" href="#1-1-전체-컨테이너-사용량-한눈에-보기-docker-stats">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker stats
</span></span></code></pre></div><ul>
<li>실행 중인 컨테이너들의 CPU%, MEM 사용량/제한, NET I/O, BLOCK I/O를 실시간으로 보여준다.</li>
<li>특정 컨테이너만 보고 싶으면 이름/ID를 붙인다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker stats &lt;container_name_or_id&gt;
</span></span></code></pre></div><h3 id="한-번만-출력하고-종료">한 번만 출력하고 종료<a hidden class="anchor" aria-hidden="true" href="#한-번만-출력하고-종료">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker stats --no-stream
</span></span></code></pre></div><hr>
<h2 id="1-2-컨테이너-메모리-제한설정-확인-docker-inspect">1-2) 컨테이너 메모리 제한/설정 확인: <code>docker inspect</code><a hidden class="anchor" aria-hidden="true" href="#1-2-컨테이너-메모리-제한설정-확인-docker-inspect">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect &lt;container&gt; --format <span style="color:#e6db74">&#39;{{json .HostConfig.Memory}}&#39;</span>
</span></span><span style="display:flex;"><span>docker inspect &lt;container&gt; --format <span style="color:#e6db74">&#39;{{json .HostConfig.NanoCpus}}&#39;</span>
</span></span></code></pre></div><ul>
<li><code>Memory</code>는 바이트 단위 제한값(0이면 제한 없음).</li>
<li><code>NanoCpus</code>는 CPU 제한(예: 2000000000 = 2 CPU).</li>
</ul>
<blockquote>
<p>제한이 없다면 컨테이너의 메모리 사용량은 호스트 메모리/커널 정책에 영향을 크게 받는다.</p>
</blockquote>
<hr>
<h2 id="1-3-컨테이너-내부에서-프로세스-확인-docker-top">1-3) 컨테이너 내부에서 프로세스 확인: <code>docker top</code><a hidden class="anchor" aria-hidden="true" href="#1-3-컨테이너-내부에서-프로세스-확인-docker-top">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker top &lt;container&gt;
</span></span></code></pre></div><ul>
<li>컨테이너 내부 프로세스의 PID/CPU/MEM을 호스트 관점에서 확인한다.</li>
<li>“어떤 프로세스가 먹는지” 빠르게 찾을 때 유용.</li>
</ul>
<hr>
<h2 id="1-4-호스트에서-cgroup-기반으로-컨테이너-리소스-확인-리눅스">1-4) 호스트에서 cgroup 기반으로 컨테이너 리소스 확인 (리눅스)<a hidden class="anchor" aria-hidden="true" href="#1-4-호스트에서-cgroup-기반으로-컨테이너-리소스-확인-리눅스">#</a></h2>
<p>컨테이너 런타임/OS에 따라 경로가 다를 수 있지만, 근본 원리는 <strong>cgroup</strong>이다.</p>
<h3 id="cgroup-v2-예시많이-씀">cgroup v2 예시(많이 씀)<a hidden class="anchor" aria-hidden="true" href="#cgroup-v2-예시많이-씀">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 ID로 cgroup 경로를 찾는 건 환경마다 다름 (systemd scope 등)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 아래는 개념 참고용</span>
</span></span><span style="display:flex;"><span>cat /sys/fs/cgroup/&lt;cgroup_path&gt;/memory.current
</span></span><span style="display:flex;"><span>cat /sys/fs/cgroup/&lt;cgroup_path&gt;/cpu.stat
</span></span></code></pre></div><ul>
<li><code>memory.current</code>: 현재 메모리 사용량(바이트)</li>
<li><code>cpu.stat</code>: usage_usec, throttled_usec 등 CPU 통계</li>
</ul>
<blockquote>
<p>“docker stats가 왜 저렇게 나오지?” 같은 의문이 들면 최종 근거는 cgroup 수치다.</p>
</blockquote>
<hr>
<h1 id="2-kubernetes-환경-kubectl">2) Kubernetes 환경 (kubectl)<a hidden class="anchor" aria-hidden="true" href="#2-kubernetes-환경-kubectl">#</a></h1>
<blockquote>
<p>전제: 아래 <code>kubectl top</code>은 <strong>metrics-server</strong>가 설치되어 있어야 동작한다.
설치가 안 되어 있으면 <code>kubectl top ...</code>에서 리소스 값을 못 본다.</p>
</blockquote>
<hr>
<h2 id="2-1-pod-단위-사용량-kubectl-top-pod">2-1) Pod 단위 사용량: <code>kubectl top pod</code><a hidden class="anchor" aria-hidden="true" href="#2-1-pod-단위-사용량-kubectl-top-pod">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top pod -A
</span></span></code></pre></div><ul>
<li>모든 네임스페이스의 Pod CPU/메모리 사용량을 보여준다.</li>
</ul>
<p>특정 네임스페이스만:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top pod -n &lt;namespace&gt;
</span></span></code></pre></div><p>특정 Pod만:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top pod -n &lt;namespace&gt; &lt;pod_name&gt;
</span></span></code></pre></div><p>컨테이너별로 보고 싶으면:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top pod -n &lt;namespace&gt; &lt;pod_name&gt; --containers
</span></span></code></pre></div><hr>
<h2 id="2-2-node-단위-사용량-kubectl-top-node">2-2) Node 단위 사용량: <code>kubectl top node</code><a hidden class="anchor" aria-hidden="true" href="#2-2-node-단위-사용량-kubectl-top-node">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top node
</span></span></code></pre></div><ul>
<li>노드별 CPU/메모리 사용량을 보여준다.</li>
<li>노드 압박(메모리 부족)이 의심될 때 먼저 확인.</li>
</ul>
<hr>
<h2 id="2-3-requestslimits-확인-kubectl-describe">2-3) Requests/Limits 확인: <code>kubectl describe</code><a hidden class="anchor" aria-hidden="true" href="#2-3-requestslimits-확인-kubectl-describe">#</a></h2>
<p>실사용(usage) 말고, “요청/제한이 어떻게 설정되어 있는지”도 함께 봐야 한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe pod -n &lt;namespace&gt; &lt;pod_name&gt;
</span></span></code></pre></div><ul>
<li><code>Containers:</code> 섹션에 <code>Requests</code>, <code>Limits</code>가 나온다.</li>
<li>OOMKill, throttling 이슈는 여기 설정이 원인인 경우가 많다.</li>
</ul>
<hr>
<h2 id="2-4-리소스-관련-이벤트oomkill-등-확인">2-4) 리소스 관련 이벤트(OOMKill 등) 확인<a hidden class="anchor" aria-hidden="true" href="#2-4-리소스-관련-이벤트oomkill-등-확인">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get events -n &lt;namespace&gt; --sort-by<span style="color:#f92672">=</span>.lastTimestamp
</span></span></code></pre></div><p>Pod가 재시작을 반복한다면:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe pod -n &lt;namespace&gt; &lt;pod_name&gt;
</span></span><span style="display:flex;"><span>kubectl logs -n &lt;namespace&gt; &lt;pod_name&gt; --previous
</span></span></code></pre></div><ul>
<li><code>OOMKilled</code> / <code>Evicted</code> / <code>Back-off restarting failed container</code> 같은 단서를 얻는다.</li>
<li><code>--previous</code>는 직전 크래시의 로그를 보는 데 유용.</li>
</ul>
<hr>
<h2 id="2-5-deploymentpod의-리소스-설정만-빠르게-뽑기-kubectl-get--o-jsonpath">2-5) Deployment/Pod의 리소스 설정만 빠르게 뽑기: <code>kubectl get -o jsonpath</code><a hidden class="anchor" aria-hidden="true" href="#2-5-deploymentpod의-리소스-설정만-빠르게-뽑기-kubectl-get--o-jsonpath">#</a></h2>
<p>리소스 설정만 뽑고 싶을 때(스크립트/문서화에 좋음):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get deploy -n &lt;namespace&gt; &lt;deploy_name&gt; <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{range .spec.template.spec.containers[*]}{.name}{&#34;\n  requests: &#34;}{.resources.requests}{&#34;\n  limits: &#34;}{.resources.limits}{&#34;\n\n&#34;}{end}&#39;</span>
</span></span></code></pre></div><hr>
<h2 id="2-6-옵션-kubelet노드-레벨-메모리-압박-확인">2-6) (옵션) kubelet/노드 레벨 메모리 압박 확인<a hidden class="anchor" aria-hidden="true" href="#2-6-옵션-kubelet노드-레벨-메모리-압박-확인">#</a></h2>
<p>노드가 <code>MemoryPressure</code> 상태인지:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe node &lt;node_name&gt; | egrep -i <span style="color:#e6db74">&#34;MemoryPressure|DiskPressure|PIDPressure|Ready&#34;</span>
</span></span></code></pre></div><ul>
<li>노드 압박이 발생하면 Pod가 <code>Evicted</code> 될 수 있다.</li>
</ul>
<hr>
<h1 id="3-kubernetes에서-컨테이너-내부-관점으로-보기">3) Kubernetes에서 “컨테이너 내부” 관점으로 보기<a hidden class="anchor" aria-hidden="true" href="#3-kubernetes에서-컨테이너-내부-관점으로-보기">#</a></h1>
<h2 id="3-1-pod-안에서-프로세스별-사용량-kubectl-exec--topps">3-1) Pod 안에서 프로세스별 사용량: <code>kubectl exec</code> + <code>top/ps</code><a hidden class="anchor" aria-hidden="true" href="#3-1-pod-안에서-프로세스별-사용량-kubectl-exec--topps">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl exec -n &lt;namespace&gt; -it &lt;pod_name&gt; -- sh
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 또는 bash</span>
</span></span><span style="display:flex;"><span>kubectl exec -n &lt;namespace&gt; -it &lt;pod_name&gt; -- bash
</span></span></code></pre></div><p>들어가서:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>top
</span></span><span style="display:flex;"><span>ps aux --sort<span style="color:#f92672">=</span>-%mem | head
</span></span><span style="display:flex;"><span>ps aux --sort<span style="color:#f92672">=</span>-%cpu | head
</span></span></code></pre></div><ul>
<li>“Pod 전체가 먹는 건 알겠는데 누가 먹는지” 볼 때 필요.</li>
<li>이미지가 최소화되어 <code>top</code>이 없으면 <code>ps</code>만이라도 확인.</li>
</ul>
<hr>
<h2 id="3-2-컨테이너-cgroup에서-제한사용량-확인-pod-내부">3-2) 컨테이너 cgroup에서 제한/사용량 확인 (Pod 내부)<a hidden class="anchor" aria-hidden="true" href="#3-2-컨테이너-cgroup에서-제한사용량-확인-pod-내부">#</a></h2>
<p>컨테이너 내부에서도 cgroup 파일로 힌트를 볼 수 있다(환경에 따라 경로/버전 다름).</p>
<h3 id="cgroup-v2-예시">cgroup v2 예시<a hidden class="anchor" aria-hidden="true" href="#cgroup-v2-예시">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat /sys/fs/cgroup/memory.current
</span></span><span style="display:flex;"><span>cat /sys/fs/cgroup/memory.max
</span></span><span style="display:flex;"><span>cat /sys/fs/cgroup/cpu.max
</span></span><span style="display:flex;"><span>cat /sys/fs/cgroup/cpu.stat
</span></span></code></pre></div><ul>
<li><code>memory.current</code>: 현재 사용량</li>
<li><code>memory.max</code>: 메모리 limit (없으면 <code>max</code>)</li>
<li><code>cpu.max</code>: CPU limit (quota/period)</li>
<li><code>cpu.stat</code>: throttling 지표 포함</li>
</ul>
<blockquote>
<p>애플리케이션은 느린데 <code>kubectl top</code> CPU가 낮게 보이면, <code>cpu.stat</code>의 throttling을 의심해볼 수 있다.</p>
</blockquote>
<hr>
<h1 id="4-자주-겪는-케이스별-빠른-체크리스트">4) 자주 겪는 케이스별 빠른 체크리스트<a hidden class="anchor" aria-hidden="true" href="#4-자주-겪는-케이스별-빠른-체크리스트">#</a></h1>
<h2 id="4-1-메모리-터져서-재시작-의심-oomkill">4-1) “메모리 터져서 재시작” 의심 (OOMKill)<a hidden class="anchor" aria-hidden="true" href="#4-1-메모리-터져서-재시작-의심-oomkill">#</a></h2>
<ol>
<li>재시작/종료 이유</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe pod -n &lt;ns&gt; &lt;pod&gt;
</span></span><span style="display:flex;"><span>kubectl get events -n &lt;ns&gt; --sort-by<span style="color:#f92672">=</span>.lastTimestamp
</span></span></code></pre></div><ol start="2">
<li>직전 크래시 로그</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl logs -n &lt;ns&gt; &lt;pod&gt; --previous
</span></span></code></pre></div><ol start="3">
<li>Limit이 너무 낮지 않은지</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe pod -n &lt;ns&gt; &lt;pod&gt;
</span></span></code></pre></div><hr>
<h2 id="4-2-느린데-cpu가-안-높다-의심-cpu-throttling">4-2) “느린데 CPU가 안 높다” 의심 (CPU throttling)<a hidden class="anchor" aria-hidden="true" href="#4-2-느린데-cpu가-안-높다-의심-cpu-throttling">#</a></h2>
<ol>
<li>Limit 설정 확인</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe pod -n &lt;ns&gt; &lt;pod&gt;
</span></span></code></pre></div><ol start="2">
<li>Pod 내부 cgroup 확인 (가능하면)</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl exec -n &lt;ns&gt; -it &lt;pod&gt; -- sh -c <span style="color:#e6db74">&#39;cat /sys/fs/cgroup/cpu.stat 2&gt;/dev/null || true&#39;</span>
</span></span></code></pre></div><hr>
<h2 id="4-3-전체적으로-불안정-node-pressure">4-3) “전체적으로 불안정” (Node Pressure)<a hidden class="anchor" aria-hidden="true" href="#4-3-전체적으로-불안정-node-pressure">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl top node
</span></span><span style="display:flex;"><span>kubectl describe node &lt;node&gt; | egrep -i <span style="color:#e6db74">&#34;Pressure|Ready&#34;</span>
</span></span><span style="display:flex;"><span>kubectl get events -A --sort-by<span style="color:#f92672">=</span>.lastTimestamp | tail -n <span style="color:#ae81ff">50</span>
</span></span></code></pre></div><hr>
<h1 id="5-마무리">5) 마무리<a hidden class="anchor" aria-hidden="true" href="#5-마무리">#</a></h1>
<ul>
<li>Docker 단독에서는 <code>docker stats</code>가 가장 빠른 출발점이다.</li>
<li>Kubernetes에서는 <code>kubectl top</code>(실사용) + <code>describe</code>(요청/제한) + <code>events/logs</code>(원인 단서)를 같이 봐야 한다.</li>
<li>최종 근거는 cgroup이며, 성능 이슈는 throttling/pressure 같은 “제한에 의한 지연”일 수도 있다.</li>
</ul>
<p>다음 글에서는 metrics-server가 없을 때 대안(프로메테우스/노드-exporter, cAdvisor, containerd/crictl)도 정리해볼 예정이다.</p>
<pre tabindex="0"><code>
원하면 내가 위 글에 **“metrics-server 설치/확인 명령어”**(AKS 기준 포함)랑, **k9s에서 CPU/MEM 안 보일 때 체크 포인트**까지 덧붙여서 “실전 트러블슈팅 버전”으로 확장해줄게.
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">My New Hugo Project</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
